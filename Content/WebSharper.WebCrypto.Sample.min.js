import { Start as fP } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fQ, SetOptional as fR, Lazy as fS, GetOptional as fT, CreateFuncWithArgs as fU, DeleteEmptyFields as fV, Create as fW, OnLoad as fX } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fY){ return"Dispose"in fY;}
function b(){ const fY=new p("New_1");const fZ=(fY.h.push(new M("password", d())),fY);const f0=(fZ.h.push(s(fZ.k, "hashpassword", () => fZ.i, () => { const f6=null;T(Q(() => R(u(e()), () => S(null))), null);})),fZ);const f1=(f0.h.push(new K("hashedpassword", c().View)),f0);const f2=t(f1.k, f1.h, [["password", 0, null]]);const f3=new k(f2[1], I(f2[0]));let f4=(f1.i=f3,f3);const f5=f4.Doc;br("");bJ.RunById("main", f5);}
function c(){ return L.hashedPassword;}
function d(){ return L.passwordInput;}
function e(){ const fY=null;return new Promise((fZ) => { const f0=d().Get();const f1=eval("new TextEncoder()").encode(f0);let f2=f().crypto.subtle.digest("SHA-256", f1).then((f3) => { const f4=new Uint8Array(f3);(((f6) => f6(String(f4)))((f6) => { console.log(f6);}));const f5=bh("", u0033((f6) => bg(f6.toString(16), 2), u0032(f4.length, (f6) => f4[f6])));c().Set("Hashed: "+String(f5));return Promise.resolve(null);});fZ(f2);});}
function f(){ return L.window;}
function g(fY){ throw new Error(fY);}
function h(fY){ return[fY.K, fY.V];}
function i(fY, fZ){ const f0=1+fZ-fY;return f0<=0?[]:u0032(f0, (f1) => f1+fY);}
class j { Equals(fY){ return this===fY;} GetHashCode(){ return -1;} }
class k extends j { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fY){ this.anchorRoot=fY;} constructor(fY, fZ){ super();this.doc=fZ;this.allVars=fY.$==0?fY.$0:g("Should not happen");this.anchorRoot=null;} }
function l(fY, fZ){ m(fY, fZ);return fY[fZ];}
function m(fY, fZ){ if(fZ<0||fZ>=fY.length)g("Index was outside the bounds of the array.");}
function n(fY){ return fY.dims===2?fY.length*fY.length:fY.length;}
function o(fY, fZ, f0){ m(fY, fZ);fY[fZ]=f0;}
class p extends j { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fY){ if(fY=="New_1"){ let fZ;super();this.i=null;this.k=(fZ=N(),String(fZ));this.h=fQ([]);fR(this, "s", null);} } }
class q extends j { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fY, fZ){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ez("");} }
class r extends j { }
function s(fY, fZ, f0, f1){ return new O(fZ, (f2) =>(f3) => { const f4=f0();f4.SetAnchorRoot(f2);return f1({Vars:f4, Anchors:f4, Target:f2, Event:f3});});}
function t(fY, fZ, f0){ const f1=new bK("New_5");const f2=new bY("New_3");const f3=bQ(fZ);try { while(f3.MoveNext()){ const f4=f3.Current;const f5=f4.Name;f2.SAdd(f5);f1.set_Item(f5, f4);} } finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} return[u0036(fZ, bZ((f6) => { const f7=f6[0];const f8=f6[1];const f9=f6[2];if(f2.Contains(f7))return null;else { const f_=f8===0?cc.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:w(f9.$0);let ga=bL.Create_1(f$==null?"":f$.$0);return new M(f7, ga);}):f8===1?cc.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:w(f9.$0);let ga=bL.Create_1(f$==null?0:f$.$0);return new cd(f7, ga);}):f8===2?cc.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:w(f9.$0);let ga=bL.Create_1(f$==null?false:f$.$0);return new ce(f7, ga);}):f8===3?cc.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:w(f9.$0);let ga=bL.Create_1(f$==null?-8640000000000000:f$.$0);return new cf(f7, ga);}):f8===4?cc.GetOrAddHoleFor(fY, f7, () => new cg(f7, bL.Create_1([]))):f8===5?cc.GetOrAddHoleFor(fY, f7, () => new ch(f7, bL.Create_1(w(globalThis.document.querySelector("[ws-dom="+f7+"]"))))):f8===6?cc.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:w(f9.$0);let ga=bL.Create_1(f$==null?[]:f$.$0);return new ci(f7, ga);}):g("Invalid value type");f1.set_Item(f7, f_);return w(f_);} }, f0)), {$:0, $0:f1}];}
function u(fY){ return V((fZ, f0) => { fY.then(fZ, (f1) => f0(v(f1)));});}
function v(fY){ return fY instanceof Error?fY:new bW(fY);}
function w(fY){ return{$:1, $0:fY};}
function x(fY, fZ){ if(fY===fZ)return true;else { const f0=typeof fY;if(f0=="object"){ if(fY===null||fY===void 0||fZ===null||fZ===void 0||!x(typeof fZ, "object"))return false;else if("Equals"in fY)return fY.Equals(fZ);else if("Equals"in fZ)return false;else if(fY instanceof Array&&fZ instanceof Array)return y(fY, fZ);else if(fY instanceof Date&&fZ instanceof Date)return z(fY, fZ);else { const f1=[true];let f2;for(var f4 in fY)if(((f5) => { f1[0]=!fY.hasOwnProperty(f5)||fZ.hasOwnProperty(f5)&&x(fY[f5], fZ[f5]);return!f1[0];})(f4))break;if(f1[0]){ let f3;for(var f5 in fZ)if(((f6) => { f1[0]=!fZ.hasOwnProperty(f6)||fY.hasOwnProperty(f6);return!f1[0];})(f5))break;} return f1[0];} } else return f0=="function"&&("$Func"in fY?fY.$Func===fZ.$Func&&fY.$Target===fZ.$Target:"$Invokes"in fY&&"$Invokes"in fZ&&y(fY.$Invokes, fZ.$Invokes));} }
function y(fY, fZ){ let f0;let f1;if(n(fY)===n(fZ)){ f0=true;f1=0;while(f0&&f1<n(fY)){!x(l(fY, f1), l(fZ, f1))?f0=false:void 0;f1=f1+1;} return f0;} else return false;}
function z(fY, fZ){ return fY.getTime()===fZ.getTime();}
function A(fY){ const fZ=typeof fY;return fZ=="function"?0:fZ=="boolean"?fY?1:0:fZ=="number"?fY:fZ=="string"?B(fY):fZ=="object"?fY==null?0:fY instanceof Array?C(fY):D(fY):0;}
function B(fY){ let fZ;if(fY===null)return 0;else { fZ=5381;for(let f0=0, f1=fY.length-1;f0<=f1;f0++)fZ=E(fZ, fY[f0].charCodeAt());return fZ;} }
function C(fY){ let fZ=-34948909;for(let f0=0, f1=n(fY)-1;f0<=f1;f0++)fZ=E(fZ, A(l(fY, f0)));return fZ;}
function D(fY){ if("GetHashCode"in fY)return fY.GetHashCode();else { const fZ=[0];let f0;for(var f1 in fY)if(((f2) => { fZ[0]=E(E(fZ[0], B(f2)), A(fY[f2]));return false;})(f1))break;return fZ[0];} }
function E(fY, fZ){ return(fY<<5)+fY+fZ;}
function F(fY, fZ){ if(fY===fZ)return 0;else { const f0=typeof fY;switch(f0=="function"?1:f0=="boolean"?2:f0=="number"?2:f0=="string"?2:f0=="object"?3:0){ case 0:return typeof fZ=="undefined"?0:-1;case 1:return g("Cannot compare function values.");case 2:return fY<fZ?-1:1;case 3:if(fY===null)return -1;else if(fZ===null)return 1;else if("CompareTo"in fY)return fY.CompareTo(fZ);else if("CompareTo0"in fY)return fY.CompareTo0(fZ);else if(fY instanceof Array&&fZ instanceof Array)return G(fY, fZ);else if(fY instanceof Date&&fZ instanceof Date)return H(fY, fZ);else { const f1=[0];let f2;for(var f4 in fY)if(((f5) =>!fY.hasOwnProperty(f5)?false:!fZ.hasOwnProperty(f5)?(f1[0]=1,true):(f1[0]=F(fY[f5], fZ[f5]),f1[0]!==0))(f4))break;if(f1[0]===0){ let f3;for(var f5 in fZ)if(((f6) =>!fZ.hasOwnProperty(f6)?false:!fY.hasOwnProperty(f6)&&(f1[0]=-1,true))(f5))break;} return f1[0];} break;} } }
function G(fY, fZ){ let f0;let f1;if(n(fY)<n(fZ))return -1;else if(n(fY)>n(fZ))return 1;else { f0=0;f1=0;while(f0===0&&f1<n(fY)){ f0=F(l(fY, f1), l(fZ, f1));f1=f1+1;} return f0;} }
function H(fY, fZ){ return F(fY.getTime(), fZ.getTime());}
function I(fY){ br("index");return fY?bs("index", w("main"), fY):void 0;}
class J extends q { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return ez(this.fillWith);} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
class K extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return w(this.fillWith);} get AsChoiceView(){ return eA(this.fillWith);} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
let L=fS((fY) => class fZ { static { L=fY(this);} static window;static hashedPassword;static passwordInput;static { this.passwordInput=bL.Create_1("");this.hashedPassword=bL.Create_1("Waiting for input...");this.window=globalThis;} });
class M extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return w(this.fillWith.View);} AddAttribute(fY, fZ){(fY(fZ))(eo(this.fillWith));} get AsChoiceView(){ return eA(do_1(String, this.fillWith.View));} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
function N(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fY) => { const fZ=Math.random()*16|0;const f0=fY=="x"?fZ:fZ&3|8;return f0.toString(16);});}
class O extends q { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
function P(fY){ const fZ={};const f0=bQ(fY);try { while(f0.MoveNext()){ const f1=f0.Current;fZ[f1[0]]=f1[1];} } finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} return fZ;}
function Q(fY){ return(fZ) => { try {(fY())(fZ);} catch(f0){ fZ.k(bN(f0));} };}
function R(fY, fZ){ return U((f0) => { fY(bM((f1) => { if(f1.$==0){ const f2=f1.$0;Z().Fork(() => { try {(fZ(f2))(f0);} catch(f3){ f0.k(bN(f3));} });} else Z().Fork(() => { f0.k(f1);});}, f0.ct));});}
function S(fY){ return(fZ) => { fZ.k(bO(fY));};}
function T(fY, fZ){ const f0=(W())[0];const f1=fZ==null?f0:fZ.$0;if(!f1.c)fY(bM((f2) => { if(f2.$==1)X(f2.$0);}, f1));}
function U(fY){ return(fZ) => { if(fZ.ct.c)Y(fZ);else fY(fZ);};}
function V(fY){ return(fZ) => { const f0=[false];const f1=(f2) => { if(f0[0])g("A continuation provided by Async.FromContinuations was invoked multiple times");else { f0[0]=true;Z().Fork(f2);} };fY((f2) => { f1(() => { fZ.k(bO(f2));});}, (f2) => { f1(() => { fZ.k(bN(f2));});}, (f2) => { f1(() => { fZ.k(bP(f2));});});};}
function W(){ return cQ.defCTS;}
function X(fY){ console.log("WebSharper: Uncaught asynchronous exception", fY);}
function Y(fY){ fY.k(bP(new di("New", fY.ct)));}
function Z(){ return cQ.scheduler;}
function u0030(){ return cQ.Zero;}
function u0031(fY, fZ){ const f0=(W())[0];const f1=fZ==null?f0:fZ.$0;Z().Fork(() => { if(!f1.c)fY(bM((f2) => { if(f2.$==1)X(f2.$0);}, f1));});}
function u0032(fY, fZ){ return u0034(fY, u0035(fZ));}
function u0033(fY, fZ){ return{GetEnumerator:() => { const f0=bQ(fZ);return new bU(null, null, (f1) => f0.MoveNext()&&(f1.c=fY(f0.Current),true), () => { f0.Dispose();});}};}
function u0034(fY, fZ){ fY<0?cN():void 0;return{GetEnumerator:() => { const f0=[bQ(fZ)];return new bU(0, null, (f1) => { f1.s=f1.s+1;if(f1.s>fY)return false;else { const f2=f0[0];return x(f2, null)?cO():f2.MoveNext()?(f1.c=f2.Current,f1.s===fY?(f2.Dispose(),f0[0]=null):void 0,true):(f2.Dispose(),f0[0]=null,cO());} }, () => { const f1=f0[0];if(!x(f1, null))f1.Dispose();});}};}
function u0035(fY){ return{GetEnumerator:() => new bU(0, null, (fZ) => { fZ.c=fY(fZ.s);fZ.s=fZ.s+1;return true;}, void 0)};}
function u0036(fY, fZ){ return{GetEnumerator:() => { const f0=bQ(fY);const f1=[true];return new bU(f0, null, (f2) => { if(f2.s.MoveNext()){ f2.c=f2.s.Current;return true;} else { const f3=f2.s;if(!x(f3, null))f3.Dispose();f2.s=null;return f1[0]&&(f1[0]=false,f2.s=bQ(fZ),f2.s.MoveNext()?(f2.c=f2.s.Current,true):(f2.s.Dispose(),f2.s=null,false));} }, (f2) => { const f3=f2.s;if(!x(f3, null))f3.Dispose();});}};}
function u0037(fY){ const fZ=bQ(fY);try { return fZ.MoveNext()?fZ.Current:cO();} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} }
function u0038(fY, fZ, f0){ let f1=fZ;const f2=bQ(f0);try { while(f2.MoveNext())f1=fY(f1, f2.Current);return f1;} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} }
function u0039(fY, fZ){ const f0=bQ(fZ);try { while(f0.MoveNext())fY(f0.Current);} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} }
function $(fY){ return{GetEnumerator:() => bQ(fY())};}
function ba(fY, fZ){ return bc(u0033(fY, fZ));}
function bb(fY){ const fZ=bQ(fY);try { if(!fZ.MoveNext())bd();let f0=fZ.Current;while(fZ.MoveNext()){ const f1=fZ.Current;if(F(f1, f0)===1)f0=f1;} return f0;} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} }
function bc(fY){ return{GetEnumerator:() => { const fZ=bQ(fY);function f0(f1){ while(true){ const f2=f1.s;if(x(f2, null)){ if(fZ.MoveNext()){ f1.s=bQ(fZ.Current);f1=f1;} else { fZ.Dispose();return false;} } else if(f2.MoveNext()){ f1.c=f2.Current;return true;} else { f1.Dispose();f1.s=null;f1=f1;} } } return new bU(null, null, f0, (f1) => { const f2=f1.s;if(!x(f2, null))f2.Dispose();if(!x(fZ, null))fZ.Dispose();});}};}
function bd(){ return g("The input sequence was empty.");}
function be(fY, fZ){ return!bf((f0) =>!fY(f0), fZ);}
function bf(fY, fZ){ const f0=bQ(fZ);try { let f1=false;while(!f1&&f0.MoveNext())f1=fY(f0.Current);return f1;} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} }
function bg(fY, fZ){ const f0=l(fY, 0);return f0==" "||f0=="+"||f0=="-"?f0+bi(fY.substr(1), fZ-1, "0"):bi(fY, fZ, "0");}
function bh(fY, fZ){ return b0(fZ).join(fY);}
function bi(fY, fZ, f0){ return fZ>fY.length?Array(fZ-fY.length+1).join(f0)+fY:fY;}
function bj(fY, fZ, f0){ return bl(fY, new RegExp("["+bm(fZ.join(""))+"]"), f0);}
function bk(fY, fZ){ return fY.substring(0, fZ.length)==fZ;}
function bl(fY, fZ, f0){ return f0===1?b9((f1) => f1!=="", bn(fY, fZ)):bn(fY, fZ);}
function bm(fY){ return fY.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function bn(fY, fZ){ return fY.split(fZ);}
function bo(fY, fZ){ return be(fY, bp(fZ));}
function bp(fY){ return fY==null?"":fY;}
function bq(fY){ let fZ=[];let f0;for(var f1 in fY)fZ.push(fY[f1]);return fZ;}
function br(fY){!bt()?(bu(true),bv(globalThis.document.body, "")):void 0;bw().set_Item(fY, bx(""));}
function bs(fY, fZ, f0){ let f1;const f2=(f1=null,[bx(fY).TryGetValue(fZ==null?"":fZ.$0, {get:() => f1, set:(f3) => { f1=f3;}}), f1]);return f2[0]?by(f2[1].cloneNode(true), f0):(console.warn("Local template doesn't exist", fZ),bJ.Empty);}
function bt(){ return cS.LocalTemplatesLoaded;}
function bu(fY){ cS.LocalTemplatesLoaded=fY;}
function bv(fY, fZ){ const f0=bx(fZ);const f1=new bK("New_5");const f2=fY.querySelectorAll("[ws-template]");for(let gc=0, gd=f2.length-1;gc<=gd;gc++){ const f3=f2[gc];const f4=f3.getAttribute("ws-template").toLowerCase();f3.removeAttribute("ws-template");f1.set_Item(f4, bz(f3));} const f5=fY.querySelectorAll("[ws-children-template]");for(let ge=0, gf=f5.length-1;ge<=gf;ge++){ const f6=f5[ge];const f7=f6.getAttribute("ws-children-template").toLowerCase();f6.removeAttribute("ws-children-template");f1.set_Item(f7, bA(f6));} const f8=fY.querySelectorAll("template[id]");for(let gg=0, gh=f8.length-1;gg<=gh;gg++){ const f9=f8[gg];f1.set_Item(f9.getAttribute("id").toLowerCase(), bB(f9));} const f_=fY.querySelectorAll("template[name]");for(let gi=0, gj=f_.length-1;gi<=gj;gi++){ const f$=f_[gi];f1.set_Item(f$.getAttribute("name").toLowerCase(), bB(f$));} const ga=new bY("New_3");function gb(gk){ if(!f0.ContainsKey(gk)){ let gl;const gm=(gl=null,[f1.TryGetValue(gk, {get:() => gl, set:(gn) => { gl=gn;}}), gl]);if(gm[0]){ ga.SAdd(gk);f1.RemoveKey(gk);bC(fZ, w(gk), gm[1], w(gb));} else console.warn(ga.Contains(gk)?"Encountered loop when instantiating "+gk:"Local template does not exist: "+gk);} } while(f1.count>0)gb(u0037(f1.Keys));}
function bw(){ return cS.LoadedTemplates;}
function bx(fY){ let fZ;const f0=(fZ=null,[bw().TryGetValue(fY, {get:() => fZ, set:(f2) => { fZ=f2;}}), fZ]);if(f0[0])return f0[1];else { const f1=new bK("New_5");bw().set_Item(fY, f1);return f1;} }
function by(fY, fZ){ let f0;const f1=bD(fY, u0036(fZ, bE().Values));const f2=f1[1];const f3=f1[0];const f4=f3.Els;return!x(f4, null)&&f4.length===1&&(l(f4, 0)instanceof Node&&(x(l(f4, 0).nodeType, Node.ELEMENT_NODE)&&(f0=l(f4, 0),true)))?dl.TreeNode(f3, f2):bJ.Mk(cj(f3), f2);}
function bz(fY){ fY.removeAttribute("ws-template");const fZ=fY.getAttribute("ws-replace");if(fZ==null){ } else { fY.removeAttribute("ws-replace");const f0=fY.parentNode;if(x(f0, null)){ } else { const f1=globalThis.document.createElement(fY.tagName);f1.setAttribute("ws-replace", fZ);f0.replaceChild(f1, fY);} } const f2=globalThis.document.createElement("div");f2.appendChild(fY);return f2;}
function bA(fY){ const fZ=globalThis.document.createElement("div");while(fY.hasChildNodes())fZ.appendChild(fY.firstChild);return fZ;}
function bB(fY){ const fZ=globalThis.document.createElement("div");const f0=fY.content;for(let f1=0, f2=f0.childNodes.length-1;f1<=f2;f1++)fZ.appendChild(f0.childNodes[f1].cloneNode(true));return fZ;}
function bC(fY, fZ, f0, f1){ const f2=new bY("New_3");function f3(f_, f$){ while(true)switch(f_){ case 0:if(f$!==null){ const ga=f$.nextSibling;if(x(f$.nodeType, Node.TEXT_NODE))du(f$);else if(x(f$.nodeType, Node.ELEMENT_NODE))f5(f$);f$=ga;} else return null;break;case 1:const gb=dC(f$.nodeName, w(3), null).toLowerCase();const gc=gb.indexOf(".");const gd=gc===-1?[fY, gb]:[dC(gb, null, w(gc-1)), dC(gb, w(gc+1), null)];const ge=gd[1];const gf=gd[0];if(gf!=""&&!bw().ContainsKey(gf))return dv(ge);else { if(gf==""&&f1!=null)f1.$0(ge);const gg=bw().Item(gf);if(!gg.ContainsKey(ge))return dv(ge);else { const gh=gg.Item(ge);const gi=gh.cloneNode(true);const gj=new bY("New_3");const gk=new bK("New_5");const gl=f$.attributes;for(let gv=0, gw=gl.length-1;gv<=gw;gv++){ const gm=gl.item(gv).name.toLowerCase();const gn=gl.item(gv).nodeValue;let go=gn==""?gm:gn.toLowerCase();gk.set_Item(gm, go);if(!gj.SAdd(gm))console.warn("Hole mapped twice", gm);} for(let gx=0, gy=f$.childNodes.length-1;gx<=gy;gx++){ const gp=f$.childNodes[gx];if(x(gp.nodeType, Node.ELEMENT_NODE))if(!gj.SAdd(gp.nodeName.toLowerCase()))console.warn("Hole filled twice", ge);} const gq=f$.childNodes.length===1&&x(f$.firstChild.nodeType, Node.TEXT_NODE);if(gq){ const gr=dw(gi, f$.firstChild.textContent, ge);const gs=((gz) =>(gA) => gz.SAdd(gA))(gj);let gt=((gz) =>(gA) => { if(gA!=null)gz(gA.$0);})((gz) => { gs(gz);});gt(gr);} dx(gi, gj);if(!gq){ for(let gz=0, gA=f$.childNodes.length-1;gz<=gA;gz++){ const gu=f$.childNodes[gz];if(x(gu.nodeType, Node.ELEMENT_NODE))if(gu.hasAttributes())dy(gi, gu);else f4(gi, gu);} } dz(gi, gk);dA(gi, f$.parentNode, f$);f$.parentNode.removeChild(f$);return;} } break;} } function f4(f_, f$){ const ga=f$.nodeName.toLowerCase();const gb=(gf, gg) => { if(ga=="title"&&f$.hasChildNodes()){ const gh=dD(f$.textContent);f$.removeChild(f$.firstChild);while(gh.hasChildNodes())f$.appendChild(gh.firstChild);} f5(f$);return dA(f$, gf, gg);};bF(f_, "[ws-attr-holes]", (gf) => { const gg=bj(gf.getAttribute("ws-attr-holes"), [" "], 1);for(let gk=0, gl=gg.length-1;gk<=gl;gk++){ const gh=l(gg, gk);let gi=new RegExp("\\${"+ga+"}", "ig");let gj=gf.getAttribute(gh).replace(gi, f$.textContent);gf.setAttribute(gh, gj);} });const gc=f_.querySelector("[ws-hole="+ga+"]");if(x(gc, null)){ const gd=f_.querySelector("[ws-replace="+ga+"]");if(x(gd, null)){ const ge=f_.querySelector("slot[name="+ga+"]");return f_.tagName.toLowerCase()=="template"?(gb(ge.parentNode, ge),void ge.parentNode.removeChild(ge)):null;} else { gb(gd.parentNode, gd);gd.parentNode.removeChild(gd);return;} } else { while(gc.hasChildNodes())gc.removeChild(gc.lastChild);gc.removeAttribute("ws-hole");return gb(gc, null);} } function f5(f_){ if(!f_.hasAttribute("ws-preserve"))if(bk(f_.nodeName.toLowerCase(), "ws-"))f7(f_);else { dB(f_);f6(f_.firstChild);} } function f6(f_){ return f3(0, f_);} function f7(f_){ return f3(1, f_);} function f8(f_){ while(true){ const f$=f_.querySelector("[ws-template]");if(x(f$, null)){ const ga=f_.querySelector("[ws-children-template]");if(x(ga, null)){ const gb=f_.querySelectorAll("template[id]");for(let gh=1, gi=gb.length-1;gh<=gi;gh++){ const gc=gb[gh];if(f2.Contains(gc)){ } else { bC(fY, w(gc.getAttribute("id")), gc, null);f2.SAdd(gc);} } const gd=f_.querySelectorAll("template[name]");for(let gj=1, gk=gd.length-1;gj<=gk;gj++){ const ge=gd[gj];if(f2.Contains(ge)){ } else { bC(fY, w(ge.getAttribute("name")), ge, null);f2.SAdd(ge);} } return null;} else { const gf=ga.getAttribute("ws-children-template");ga.removeAttribute("ws-children-template");bC(fY, w(gf), ga, null);f_=f_;} } else { const gg=f$.getAttribute("ws-template");(bG(fY, w(gg), f$))(null);f_=f_;} } } const f9=(fZ==null?"":fZ.$0).toLowerCase();bx(fY).set_Item(f9, f0);if(f0.hasChildNodes()){ f8(f0);f6(f0.firstChild);} }
function bD(fY, fZ){ let f0;const f1=[];const f2=[];const f3=[];const f4=[];const f5=new bK("New_5");const f6=bQ(fZ);try { while(f6.MoveNext()){ const f7=f6.Current;f5.set_Item(f7.Name, f7);} } finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} let f8=dE(fY);const f9=(gg, gh) => { const gi=d3(gg, gh);f2.push(d4(gi));f3.push([gg, gi]);const gj=fT(gi.OnAfterRender);if(gj==null)return null;else { const gk=gj.$0;f4.push(() => { gk(gg);});return;} };const f_=(gg) => { let gh;const gi=(gh=null,[f5.TryGetValue(gg, {get:() => gh, set:(gl) => { gh=gl;}}), gh]);if(gi[0]){ const gj=gi[1];if(gj instanceof ei)return w(gj.Value);else if(gj instanceof J)return w(bJ.TextNode(gj.Value));else { const gk=gj.ForTextView();return gk==null?null:w(bJ.TextView(gk.$0));} } else return null;};bF(fY, "[ws-hole]", (gg) => { const gh=gg.getAttribute("ws-hole");gg.removeAttribute("ws-hole");while(gg.hasChildNodes())gg.removeChild(gg.lastChild);const gi=f_(gh);if(gi!=null&&gi.$==1){ const gj=gi.$0;cT(gg, gj.docNode);f1.push(db.New(d5(gg), gj.docNode, null, gg, dc(), null));f2.push(gj.updates);} });bF(fY, "[ws-replace]", (gg) => { const gh=f_(gg.getAttribute("ws-replace"));if(gh!=null&&gh.$==1){ const gi=gh.$0;const gj=gg.parentNode;const gk=globalThis.document.createTextNode("");gj.replaceChild(gk, gg);const gl=cY(gk, gi.docNode);f8=dE(fY);const gm=b2((gn) => gg===gn, f8);if(gm==null){ } else o(f8, gm.$0, gi.docNode);f1.push(db.New(d5(gj), gi.docNode, w([gl, gk]), gj, dc(), null));f2.push(gi.updates);} });let f$=false;bF(fY, "slot", (gg) => { const gh=gg.getAttribute("name");const gi=gh==""||gh==null?"default":gh.toLowerCase();if(f$&&gi=="default"||!x(fY.parentElement, null)){ } else { while(gg.hasChildNodes())gg.removeChild(gg.lastChild);if(gi=="default")f$=true;const gj=f_(gi);if(gj!=null&&gj.$==1){ const gk=gj.$0;cT(gg, gk.docNode);f1.push(db.New(d5(gg), gk.docNode, null, gg, dc(), null));f2.push(gk.updates);} } });bF(fY, "[ws-attr]", (gg) => { let gh;const gi=gg.getAttribute("ws-attr");gg.removeAttribute("ws-attr");const gj=(gh=null,[f5.TryGetValue(gi, {get:() => gh, set:(gl) => { gh=gl;}}), gh]);if(gj[0]){ const gk=gj[1];if(gk instanceof ej)f9(gg, gk.Value);else console.warn("Attribute hole filled with non-attribute data", gi);} });bF(fY, "[ws-on]", (gg) => { f9(gg, ew.Concat(bZ((gh) => { let gi;const gj=bj(gh, [":"], 1);const gk=(gi=null,[f5.TryGetValue(l(gj, 1), {get:() => gi, set:(gm) => { gi=gm;}}), gi]);if(gk[0]){ const gl=gk[1];return gl instanceof ek?w(el(l(gj, 0), gl.Value)):gl instanceof O?w(ew.Handler(l(gj, 0), gl.Value)):(console.warn("Event hole on"+l(gj, 0)+" filled with non-event data", l(gj, 1)),null);} else return null;}, bj(gg.getAttribute("ws-on"), [" "], 1))));gg.removeAttribute("ws-on");});bF(fY, "[ws-onafterrender]", (gg) => { let gh;const gi=gg.getAttribute("ws-onafterrender");const gj=(gh=null,[f5.TryGetValue(gi, {get:() => gh, set:(gl) => { gh=gl;}}), gh]);if(gj[0]){ const gk=gj[1];if(gk instanceof ex){ gg.removeAttribute("ws-onafterrender");f9(gg, em(gk.Value));} else if(gk instanceof ey){ gg.removeAttribute("ws-onafterrender");f9(gg, em(gk.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gi);} });bF(fY, "[ws-var]", (gg) => { let gh;const gi=gg.getAttribute("ws-var");gg.removeAttribute("ws-var");const gj=(gh=null,[f5.TryGetValue(gi, {get:() => gh, set:(gk) => { gh=gk;}}), gh]);if(gj[0])gj[1].AddAttribute((gk) =>(gl) => f9(gk, gl), gg);});const ga=() => { bH("[ws-dom]", (gg) => { let gh;let gi;let gj;const gk=(gh=null,[f5.TryGetValue(gg.getAttribute("ws-dom").toLowerCase(), {get:() => gh, set:(go) => { gh=go;}}), gh]);if(gk[0]){ const gl=gk[1];if(gl instanceof ch){ const gm=gl.Value;gg.removeAttribute("ws-dom");gi=gg;const gn=new MutationObserver((go, gp) => { b6((gq) => { gq.removedNodes.forEach(fU((gr) => gr[0]===gi&&gq.addedNodes.length!==1?(gm.SetFinal(null),gp.disconnect()):null), null);}, go);});if(gg.parentElement!==null)gn.observe(gg.parentElement, (gj={},gj.childList=true,gj));gm.Set(w(gg));dn((go) => { if(go!=null&&go.$==1){ const gp=go.$0;if(gi===gp){ } else { gi.replaceWith(gp);gi=gp;} } else { gi.remove();gn.disconnect();} }, gm.View);} } });};bF(fY, "[ws-attr-holes]", (gg) => { const gh=new RegExp(bI(), "g");const gi=bj(gg.getAttribute("ws-attr-holes"), [" "], 1);gg.removeAttribute("ws-attr-holes");for(let gj=0, gk=gi.length-1;gj<=gk;gj++)((() => { let gl;const gm=l(gi, gj);const gn=gg.getAttribute(gm);let go=null;let gp=0;const gq=[];while(go=gh.exec(gn),go!==null){ const gr=dC(gn, w(gp), w(gh.lastIndex-l(go, 0).length-1));gp=gh.lastIndex;gq.push([gr, l(go, 1)]);} const gs=dC(gn, w(gp), null);gh.lastIndex=0;const gt=b7((gy, gz) =>(((gA) => { const gB=gA[0];const gC=gA[1];return(gD) => { let gE;const gF=gD[0];const gG=gD[1];const gH=(gE=null,[f5.TryGetValue(gC, {get:() => gE, set:(gJ) => { gE=gJ;}}), gE]);const gI=gH[0]?gH[1].AsChoiceView:ez("");return gI.$==1?[gB, dj.Cons(gF==""?gI.$0:do_1((gJ) => gJ+gF, gI.$0), gG)]:[gB+gI.$0+gF, gG];};})(gy))(gz), gq, [gs, dj.Empty]);if(gt[1].$==1){ if(gt[1].$1.$==1){ if(gt[1].$1.$1.$==1){ if(gt[1].$1.$1.$1.$==0){ const gu=gt[0];gl=en(gm, dp((gy, gz, gA) => gu+gy+gz+gA, gt[1].$0, gt[1].$1.$0, gt[1].$1.$1.$0));} else { const gv=gt[0];gl=en(gm, do_1((gy) => gv+bh("", gy), dq(gt[1])));} } else { const gw=gt[0];gl=en(gm, dr((gy, gz) => gw+gy+gz, gt[1].$0, gt[1].$1.$0));} } else if(gt[0]=="")gl=en(gm, gt[1].$0);else { const gx=gt[0];gl=en(gm, do_1((gy) => gx+gy, gt[1].$0));} } else gl=ew.Create(gm, gt[0]);return f9(gg, gl);})());});let gb=f8;const gc=f4.length==0?w(() => { ga();}):w((gg) => { ga();b6((gh) => { gh(gg);}, f4);});const gd=!x(f8, null)&&f8.length===1&&(l(f8, 0)instanceof Node&&(l(f8, 0)instanceof Element&&(f0=l(f8, 0),true)))?w(f0):null;let ge={Els:gb, Dirty:true, Holes:f1, Attrs:f3, Render:gc?gc.$0:void 0, El:gd?gd.$0:void 0};let gf=fV(ge, ["Render", "El"]);return[gf, eB(dm(), ds, f2)];}
function bE(){ return cS.GlobalHoles;}
function bF(fY, fZ, f0){ dK(fY, fZ, (f1) => { if(f1.closest("[ws-preserve]")==null)f0(f1);});}
function bG(fY, fZ, f0){ const f1=bz(f0);return(f2) => { bC(fY, fZ, f1, f2);};}
function bH(fY, fZ){ dL(fY, (f0) => { if(f0.closest("[ws-preserve]")==null)fZ(f0);});}
function bI(){ return cS.TextHoleRE;}
class bJ extends j { docNode;updates;static RunById(fY, fZ){ const f0=globalThis.document.getElementById(fY);if(x(f0, null))g("invalid id: "+fY);else bJ.Run(f0, fZ);} static Run(fY, fZ){ cT(fY, fZ.docNode);bJ.RunInPlace(false, fY, fZ);} static get Empty(){ return bJ.Mk(null, dm());} static RunInPlace(fY, fZ, f0){ const f1=cV(fZ, f0.docNode);dn(dP()||dW()?dX(cW(fY, f1, f0.docNode)):() => { cX(fY, f1, f0.docNode);}, f0.updates);} static Mk(fY, fZ){ return new bJ(fY, fZ);} static TextNode(fY){ return bJ.Mk(ck(globalThis.document.createTextNode(fY)), dm());} static TextView(fY){ const fZ=c6();return bJ.Mk(cl(fZ), do_1((f0) => { c7(fZ, f0);}, fY));} constructor(fY, fZ){ super();this.docNode=fY;this.updates=fZ;} }
class bK extends j { equals;hash;count;data;set_Item(fY, fZ){ this.set(fY, fZ);} set(fY, fZ){ const f0=this.hash(fY);const f1=this.data[f0];if(f1==null){ this.count=this.count+1;this.data[f0]=new Array({K:fY, V:fZ});} else { const f2=b2((f3) => this.equals.apply(null, [(h(f3))[0], fY]), f1);if(f2==null){ this.count=this.count+1;f1.push({K:fY, V:fZ});} else f1[f2.$0]={K:fY, V:fZ};} } TryGetValue(fY, fZ){ const f0=this.data[this.hash(fY)];if(f0==null)return false;else { const f1=b3((f2) => { const f3=h(f2);return this.equals.apply(null, [f3[0], fY])?w(f3[1]):null;}, f0);return f1!=null&&f1.$==1&&(fZ.set(f1.$0),true);} } ContainsKey(fY){ const fZ=this.data[this.hash(fY)];return fZ==null?false:b4((f0) => this.equals.apply(null, [(h(f0))[0], fY]), fZ);} RemoveKey(fY){ return this.remove(fY);} get Keys(){ return new dO(this);} GetEnumerator(){ return bT(b5(bq(this.data)));} get Values(){ return new eF(this);} remove(fY){ const fZ=this.hash(fY);const f0=this.data[fZ];if(f0==null)return false;else { const f1=b9((f2) =>!this.equals.apply(null, [(h(f2))[0], fY]), f0);return n(f1)<f0.length&&(this.count=this.count-1,this.data[fZ]=f1,true);} } Item(fY){ return this.get(fY);} get(fY){ const fZ=this.data[this.hash(fY)];return fZ==null?cR():b_((f0) => { const f1=h(f0);return this.equals.apply(null, [f1[0], fY])?w(f1[1]):null;}, fZ);} static New_5(){ return new this("New_5");} static New_6(fY, fZ, f0){ return new this("New_6", fY, fZ, f0);} constructor(fY, fZ, f0, f1){ if(fY=="New_5"){ fY="New_6";fZ=[];f0=x;f1=A;} if(fY=="New_6"){ const f2=fZ;const f3=f0;const f4=f1;super();this.equals=f3;this.hash=f4;this.count=0;this.data=[];const f5=bQ(f2);try { while(f5.MoveNext()){ const f6=f5.Current;this.set(f6.K, f6.V);} } finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} } } }
let bL=fS((fY) => class fZ extends j { static { bL=fY(this);} static Create_1(f0){ return new co(false, {s:df(f0, [])}, f0);} static { } });
function bM(fY, fZ){ return{k:fY, ct:fZ};}
function bN(fY){ return{$:1, $0:fY};}
function bO(fY){ return{$:0, $0:fY};}
function bP(fY){ return{$:2, $0:fY};}
function bQ(fY){ return fY instanceof Array?bR(fY):x(typeof fY, "string")?bS(fY):fY.GetEnumerator();}
function bR(fY){ return new bU(0, null, (fZ) => { const f0=fZ.s;return f0<n(fY)&&(fZ.c=l(fY, f0),fZ.s=f0+1,true);}, void 0);}
function bS(fY){ return new bU(0, null, (fZ) => { const f0=fZ.s;return f0<fY.length&&(fZ.c=fY[f0],fZ.s=f0+1,true);}, void 0);}
function bT(fY){ return fY instanceof Array?bR(fY):x(typeof fY, "string")?bS(fY):"GetEnumerator0"in fY?fY.GetEnumerator0():fY.GetEnumerator();}
class bU extends j { s;c;n;d;e;Dispose(){ if(this.d)this.d(this);} MoveNext(){ const fY=this.n(this);this.e=fY?1:2;return fY;} get Current(){ return this.e===1?this.c:this.e===0?g("Enumeration has not started. Call MoveNext."):g("Enumeration already finished.");} constructor(fY, fZ, f0, f1){ super();this.s=fY;this.c=fZ;this.n=f0;this.d=f1;this.e=0;} }
class bV extends j { }
class bW extends Error { reason;constructor(fY){ super("Promise rejected");this.reason=fY;} }
function bX(fY, fZ){ return{c:fY, r:fZ};}
class bY extends j { equals;hash;data;count;SAdd(fY){ return this.add(fY);} Contains(fY){ const fZ=this.data[this.hash(fY)];return fZ==null?false:this.arrContains(fY, fZ);} add(fY){ const fZ=this.hash(fY);const f0=this.data[fZ];return f0==null?(this.data[fZ]=[fY],this.count=this.count+1,true):this.arrContains(fY, f0)?false:(f0.push(fY),this.count=this.count+1,true);} arrContains(fY, fZ){ let f0=true;let f1=0;const f2=fZ.length;while(f0&&f1<f2)if(this.equals.apply(null, [fZ[f1], fY]))f0=false;else f1=f1+1;return!f0;} GetEnumerator(){ return bQ(eX(this.data));} ExceptWith(fY){ const fZ=bQ(fY);try { while(fZ.MoveNext())this.Remove(fZ.Current);} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} } get Count(){ return this.count;} IntersectWith(fY){ const fZ=new bY("New_4", fY, this.equals, this.hash);const f0=eX(this.data);for(let f2=0, f3=f0.length-1;f2<=f3;f2++){ const f1=f0[f2];if(!fZ.Contains(f1))this.Remove(f1);} } Remove(fY){ const fZ=this.data[this.hash(fY)];return fZ==null?false:this.arrRemove(fY, fZ)&&(this.count=this.count-1,true);} CopyTo(fY, fZ){ const f0=eX(this.data);for(let f1=0, f2=f0.length-1;f1<=f2;f1++)o(fY, f1+fZ, f0[f1]);} arrRemove(fY, fZ){ let f0=true;let f1=0;const f2=fZ.length;while(f0&&f1<f2)if(this.equals.apply(null, [fZ[f1], fY])){ fZ.splice(f1, 1);f0=false;} else f1=f1+1;return!f0;} static New_3(){ return new this("New_3");} static New_4(fY, fZ, f0){ return new this("New_4", fY, fZ, f0);} static New_2(fY){ return new this("New_2", fY);} constructor(fY, fZ, f0, f1){ if(fY=="New_3"){ fY="New_4";fZ=[];f0=x;f1=A;} let f2;if(fY=="New_2"){ f2=fZ;fY="New_4";fZ=f2;f0=x;f1=A;} if(fY=="New_4"){ const f3=fZ;const f4=f0;const f5=f1;super();this.equals=f4;this.hash=f5;this.data=[];this.count=0;const f6=bQ(f3);try { while(f6.MoveNext())this.add(f6.Current);} finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} } } }
function bZ(fY, fZ){ const f0=[];for(let f2=0, f3=fZ.length-1;f2<=f3;f2++){ const f1=fY(fZ[f2]);if(f1==null){ } else f0.push(f1.$0);} return f0;}
function b0(fY){ if(fY instanceof Array)return fY.slice();else if(fY instanceof dj)return b1(fY);else { const fZ=[];const f0=bQ(fY);try { while(f0.MoveNext())fZ.push(f0.Current);return fZ;} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } }
function b1(fY){ const fZ=[];let f0=fY;while(!(f0.$==0)){ fZ.push(d0(f0));f0=d1(f0);} return fZ;}
function b2(fY, fZ){ let f0=null;let f1=0;while(f1<fZ.length&&f0==null){ fY(fZ[f1])?f0=w(f1):void 0;f1=f1+1;} return f0;}
function b3(fY, fZ){ let f0=null;let f1=0;while(f1<fZ.length&&f0==null){ const f2=fY(fZ[f1]);if(f2!=null&&f2.$==1)f0=f2;f1=f1+1;} return f0;}
function b4(fY, fZ){ let f0=false;let f1=0;while(!f0&&f1<n(fZ))if(fY(fZ[f1]))f0=true;else f1=f1+1;return f0;}
function b5(fY){ return Array.prototype.concat.apply([], b0(fY));}
function b6(fY, fZ){ for(let f0=0, f1=fZ.length-1;f0<=f1;f0++)fY(fZ[f0]);}
function b7(fY, fZ, f0){ let f1=f0;const f2=fZ.length;for(let f3=1, f4=f2;f3<=f4;f3++)f1=fY(fZ[f2-f3], f1);return f1;}
function b8(fY, fZ){ const f0=new Array(fZ.length);for(let f1=0, f2=fZ.length-1;f1<=f2;f1++)f0[f1]=fY(fZ[f1]);return f0;}
function b9(fY, fZ){ const f0=[];for(let f1=0, f2=fZ.length-1;f1<=f2;f1++)if(fY(fZ[f1]))f0.push(fZ[f1]);return f0;}
function b_(fY, fZ){ const f0=b3(fY, fZ);return f0==null?g("KeyNotFoundException"):f0.$0;}
function b$(fY, fZ){ let f0=true;let f1=0;while(f0&&f1<n(fZ))if(fY(fZ[f1]))f1=f1+1;else f0=false;return f0;}
function ca(fY, fZ){ const f0=new Array(fY);for(let f1=0, f2=fY-1;f1<=f2;f1++)f0[f1]=fZ;return f0;}
function cb(fY, fZ){ if(fY<0)g("Negative size given.");else null;const f0=new Array(fY);for(let f1=0, f2=fY-1;f1<=f2;f1++)f0[f1]=fZ(f1);return f0;}
let cc=fS((fY) => class fZ extends j { static { cc=fY(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(f0, f1, f2){ let f3;const f4=cc.GetHolesFor(f0);const f5=(f3=null,[f4.TryGetValue(f1, {get:() => f3, set:(f7) => { f3=f7;}}), f3]);if(f5[0])return f5[1];else { const f6=f2();f4.set_Item(f1, f6);return f6;} } static GetHolesFor(f0){ let f1;const f2=(f1=null,[cc.initialized.TryGetValue(f0, {get:() => f1, set:(f4) => { f1=f4;}}), f1]);if(f2[0])return f2[1];else { const f3=new bK("New_5");cc.initialized.set_Item(f0, f3);return f3;} } static { cc.initialized=new bK("New_5");cc.instances=new bK("New_5");} });
class cd extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return w(do_1(String, this.fillWith.View));} AddAttribute(fY, fZ){(fY(fZ))(ep(this.fillWith));} get AsChoiceView(){ return eA(do_1(String, this.fillWith.View));} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
class ce extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return w(do_1(String, this.fillWith.View));} AddAttribute(fY, fZ){(fY(fZ))(eq(this.fillWith));} get AsChoiceView(){ return eA(do_1(String, this.fillWith.View));} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
class cf extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return w(do_1((fY) =>(new Date(fY)).toLocaleString(), this.fillWith.View));} AddAttribute(fY, fZ){(fY(fZ))(er(this.fillWith));} get AsChoiceView(){ return eA(do_1((fY) =>(new Date(fY)).toLocaleString(), this.fillWith.View));} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
class cg extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return w(do_1(String, this.fillWith.View));} AddAttribute(fY, fZ){(fY(fZ))(es(this.fillWith));} get AsChoiceView(){ return eA(do_1(String, this.fillWith.View));} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
class ch extends q { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
class ci extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return w(do_1((fY) => bh(",", fY), this.fillWith.View));} AddAttribute(fY, fZ){(fY(fZ))(et(this.fillWith));} get AsChoiceView(){ return eA(do_1(String, this.fillWith.View));} constructor(fY, fZ){ super();this.name=fY;this.fillWith=fZ;} }
function cj(fY){ return{$:6, $0:fY};}
function ck(fY){ return{$:5, $0:fY};}
function cl(fY){ return{$:4, $0:fY};}
class cm { }
function cn(fY, fZ){ return fI(fY, -2147483648, 2147483647, fZ);}
class co extends r { isConst;current;snap;view;id;get View(){ return this.view;} Set(fY){ if(this.isConst)(((fZ) => fZ("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fZ) => { console.log(fZ);}));else { dZ(this.snap);this.current=fY;this.snap={s:df(fY, [])};} } Get(){ return this.current;} SetFinal(fY){ if(this.isConst)(((fZ) => fZ("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fZ) => { console.log(fZ);}));else { dZ(this.snap);this.isConst=true;this.current=fY;this.snap={s:dg(fY)};} } UpdateMaybe(fY){ const fZ=fY(this.Get());if(fZ!=null&&fZ.$==1)this.Set(fZ.$0);} constructor(fY, fZ, f0){ super();this.isConst=fY;this.current=f0;this.snap=fZ;this.view=() => this.snap;this.id=dc();} }
function cp(fY, fZ, f0){ const f1=fY.s;if(f1==null)f0();else f1!=null&&f1.$==2?(f1.$1.push(f0),fZ(f1.$0)):f1!=null&&f1.$==3?(f1.$0.push(fZ),f1.$1.push(f0)):fZ(f1.$0);}
function cq(fY, fZ){ const f0=fZ.s;if(f0!=null&&f0.$==0)return{s:dg(fY(f0.$0))};else { const f1={s:dh([], [])};cx(fZ, (f2) => { cy(f1, fZ, fY(f2));}, f1);return f1;} }
function cr(fY, fZ, f0, f1){ const f2=fZ.s;const f3=f0.s;const f4=f1.s;if(f2!=null&&f2.$==0)return f3!=null&&f3.$==0?f4!=null&&f4.$==0?{s:dg(fY(f2.$0, f3.$0, f4.$0))}:cz(fY, f2.$0, f3.$0, f1):f4!=null&&f4.$==0?cA(fY, f2.$0, f4.$0, f0):cB(fY, f2.$0, f0, f1);else if(f3!=null&&f3.$==0)return f4!=null&&f4.$==0?cC(fY, f3.$0, f4.$0, fZ):cD(fY, f3.$0, fZ, f1);else if(f4!=null&&f4.$==0)return cE(fY, f4.$0, fZ, f0);else { const f5={s:dh([], [])};const f6=() => { const f7=f5.s;if(!(f7!=null&&f7.$==0||f7!=null&&f7.$==2)){ const f8=cF(fZ);const f9=cF(f0);const f_=cF(f1);if(f8!=null&&f8.$==1)if(f9!=null&&f9.$==1)if(f_!=null&&f_.$==1)if(f8.$0[1]&&f9.$0[1]&&f_.$0[1])cG(f5, fY(f8.$0[0], f9.$0[0], f_.$0[0]));else cH(f5, fY(f8.$0[0], f9.$0[0], f_.$0[0]));} };cx(fZ, f6, f5);cx(f0, f6, f5);cx(f1, f6, f5);return f5;} }
function cs(fY){ const fZ=b0(fY);if(fZ.length==0)return{s:dg([])};else { const f0={s:dh([], [])};const f1=[n(fZ)-1];const f2=() => { if(f1[0]===0){ const f3=b8((f4) => { const f5=f4.s;return f5!=null&&f5.$==0?f5.$0:f5!=null&&f5.$==2?f5.$0:g("value not found by View.Sequence");}, fZ);if(b$((f4) => { const f5=f4.s;return f5!=null&&f5.$==0;}, fZ))cG(f0, f3);else cH(f0, f3);} else f1[0]=f1[0]-1;};b6((f3) => { cx(f3, f2, f0);}, fZ);return f0;} }
function ct(fY, fZ, f0){ const f1=fZ.s;const f2=f0.s;if(f1!=null&&f1.$==0)return f2!=null&&f2.$==0?{s:dg(fY(f1.$0, f2.$0))}:cI(fY, f1.$0, f0);else if(f2!=null&&f2.$==0)return cJ(fY, f2.$0, fZ);else { const f3={s:dh([], [])};const f4=() => { const f5=f3.s;if(!(f5!=null&&f5.$==0||f5!=null&&f5.$==2)){ const f6=cF(fZ);const f7=cF(f0);if(f6!=null&&f6.$==1)if(f7!=null&&f7.$==1)if(f6.$0[1]&&f7.$0[1])cG(f3, fY(f6.$0[0], f7.$0[0]));else cH(f3, fY(f6.$0[0], f7.$0[0]));} };cx(fZ, f4, f3);cx(f0, f4, f3);return f3;} }
function cu(fY, fZ){ const f0=fY.s;const f1=fZ.s;if(f0!=null&&f0.$==0)return f1!=null&&f1.$==0?{s:dg(null)}:fZ;else if(f1!=null&&f1.$==0)return fY;else { const f2={s:dh([], [])};const f3=() => { const f4=f2.s;if(!(f4!=null&&f4.$==0||f4!=null&&f4.$==2)){ const f5=cF(fY);const f6=cF(fZ);if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f5.$0[1]&&f6.$0[1])cG(f2, null);else cH(f2, null);} };cx(fY, f3, f2);cx(fZ, f3, f2);return f2;} }
function cv(fY){ const fZ=fY.s;if(fZ==null)return fY;else if(fZ!=null&&fZ.$==2){ const f0={s:df(fZ.$0, [])};cK(fY, f0);return f0;} else if(fZ!=null&&fZ.$==3){ const f1={s:dh([], [])};cx(fY, (f2) => { cy(f1, fY, f2);}, f1);return f1;} else return fY;}
function cw(fY, fZ){ const f0=fY.s;if(f0==null)fZ();else f0!=null&&f0.$==2?f0.$1.push(fZ):f0!=null&&f0.$==3?f0.$1.push(fZ):void 0;}
function cx(fY, fZ, f0){ const f1=fY.s;if(f1==null)dZ(f0);else f1!=null&&f1.$==2?(cL(f1.$1, f0),fZ(f1.$0)):f1!=null&&f1.$==3?(f1.$0.push(fZ),cL(f1.$1, f0)):fZ(f1.$0);}
function cy(fY, fZ, f0){ const f1=fZ.s;if(f1!=null&&f1.$==0)cG(fY, f0);else cH(fY, f0);}
function cz(fY, fZ, f0, f1){ return cq((f2) => fY(fZ, f0, f2), f1);}
function cA(fY, fZ, f0, f1){ return cq((f2) => fY(fZ, f2, f0), f1);}
function cB(fY, fZ, f0, f1){ return ct((f2, f3) => fY(fZ, f2, f3), f0, f1);}
function cC(fY, fZ, f0, f1){ return cq((f2) => fY(f2, fZ, f0), f1);}
function cD(fY, fZ, f0, f1){ return ct((f2, f3) => fY(f2, fZ, f3), f0, f1);}
function cE(fY, fZ, f0, f1){ return ct((f2, f3) => fY(f2, f3, fZ), f0, f1);}
function cF(fY){ const fZ=fY.s;return fZ!=null&&fZ.$==0?w([fZ.$0, true]):fZ!=null&&fZ.$==2?w([fZ.$0, false]):null;}
function cG(fY, fZ){ const f0=fY.s;if(f0!=null&&f0.$==3){ fY.s=dg(fZ);const f1=f0.$0;for(let f2=0, f3=n(f1)-1;f2<=f3;f2++)(l(f1, f2))(fZ);} else void 0;}
function cH(fY, fZ){ const f0=fY.s;if(f0!=null&&f0.$==3){ fY.s=df(fZ, f0.$1);const f1=f0.$0;for(let f2=0, f3=n(f1)-1;f2<=f3;f2++)(l(f1, f2))(fZ);} else void 0;}
function cI(fY, fZ, f0){ return cq((f1) => fY(fZ, f1), f0);}
function cJ(fY, fZ, f0){ return cq((f1) => fY(f1, fZ), f0);}
function cK(fY, fZ){ const f0=fY.s;if(f0==null)dZ(fZ);else f0!=null&&f0.$==2?cL(f0.$1, fZ):f0!=null&&f0.$==3?cL(f0.$1, fZ):void 0;}
function cL(fY, fZ){ fY.push(fZ);if(fY.length%20===0){ const f0=fY.slice(0);fN(fY);for(let f2=0, f3=n(f0)-1;f2<=f3;f2++){ const f1=l(f0, f2);if(typeof f1=="object")(((f4) => { if(f4.s)fY.push(f4);})(f1));else(((f4) => { fY.push(f4);})(f1));} } else void 0;}
class cM extends j { idle;robin;Fork(fY){ this.robin.push(fY);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fY=Date.now();let fZ=true;while(fZ)if(this.robin.length===0){ this.idle=true;fZ=false;} else {(this.robin.shift())();Date.now()-fY>40?(setTimeout(() => { this.tick();}, 0),fZ=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
function cN(){ return g("The input must be non-negative.");}
function cO(){ return g("The input sequence has an insufficient number of elements.");}
function cP(fY, fZ){ let f0=true;let f1=0;while(f0&&f1<n(fZ))if(x(fZ[f1], fY))f0=false;else f1=f1+1;return!f0;}
let cQ=fS((fY) => class fZ { static { cQ=fY(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bX(false, []);this.scheduler=new cM();this.defCTS=[new dk()];this.Zero=S();this.GetCT=(f0) => { f0.k(bO(f0.ct));};} });
function cR(){ throw new e6("New");}
let cS=fS((fY) => class fZ { static { cS=fY(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bK("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bK("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cT(fY, fZ){ cU(fY, fZ, null);}
function cU(fY, fZ, f0){ while(true){ if(fZ!=null&&fZ.$==1)return cZ(fY, fZ.$0.El, f0);else if(fZ!=null&&fZ.$==2){ const f1=fZ.$0;f1.Dirty=false;fZ=f1.Current;} else if(fZ==null)return f0;else if(fZ!=null&&fZ.$==4)return cZ(fY, fZ.$0.Text, f0);else if(fZ!=null&&fZ.$==5)return cZ(fY, fZ.$0, f0);else if(fZ!=null&&fZ.$==6)return b7((f4, f5) =>((((f6) =>(f7) =>(f8) => f7==null||f7.constructor===Object?cU(f6, f7, f8):cZ(f6, f7, f8))(fY))(f4))(f5), fZ.$0.Els, f0);else { const f2=fZ.$1;const f3=fZ.$0;fZ=f3;f0=cU(fY, f2, f0);} } }
function cV(fY, fZ){ return eG(eH(), c0(fY, d9(), fZ));}
function cW(fY, fZ, f0){ if(dP()){ const f1=null;return Q(() => { const f2=eI(f0);const f3=c4(fZ, f2);const f4=c3(fZ, f2);return R(dQ(dR(f3, c2(fZ, f2))), () => R(c1(fY, fZ), () => R(dQ(f4), () => { fZ.PreviousNodes=f2;return S(null);})));});} else return c1(fY, fZ);}
function cX(fY, fZ, f0){ const f1=eI(f0);c5(fY, fZ.Top);fZ.PreviousNodes=f1;}
function cY(fY, fZ){ const f0=fY.parentNode;const f1=globalThis.document.createTextNode("");f0.insertBefore(f1, fY);c8(fY, fZ);return f1;}
function cZ(fY, fZ, f0){ dM(fY, f0, fZ);return fZ;}
function c0(fY, fZ, f0){ cT(fY, f0);const f1=d3(fY, fZ);return db.New(f1, f0, null, fY, dc(), fT(f1.OnAfterRender));}
function c1(fY, fZ){ if(dW()){ const f0=(f1) => { requestAnimationFrame(() => { c5(fY, fZ.Top);f1();});};return V((f1, f2, f3) => f0.apply(null, [f1, f2, f3]));} else { c5(fY, fZ.Top);return S(null);} }
function c2(fY, fZ){ return dU(b8((f0) => d$(f0.Attr), eM(eL(fZ, eK((f0) => d_(f0.Attr), fY.PreviousNodes)))));}
function c3(fY, fZ){ return dU(b8((f0) => eb(f0.Attr), eM(eL(fY.PreviousNodes, eK((f0) => ea(f0.Attr), fZ)))));}
function c4(fY, fZ){ const f0=(f2) => ec(f2.Attr);const f1=(f2) => eK(f0, f2);return dU(b8((f2) => ed(f2.Attr), eM(eN(f1(fY.PreviousNodes), f1(fZ)))));}
function c5(fY, fZ){!fY?c9(fZ):void 0;c_(fZ.Children);c$(fZ);}
function c6(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function c7(fY, fZ){ fY.Value=fZ;fY.Dirty=true;}
function c8(fY, fZ){ cU(fY.parentNode, fZ, fY);}
function c9(fY){ function fZ(f0){ function f1(f2){ while(true){ if(f2!=null&&f2.$==0){ const f3=f2.$1;const f4=f2.$0;if(f1(f4))return true;else f2=f3;} else if(f2!=null&&f2.$==2){ const f5=f2.$0;if(f5.Dirty)return true;else f2=f5.Current;} else if(f2!=null&&f2.$==6){ const f6=f2.$0;return f6.Dirty||b4(fZ, f6.Holes);} else return false;} } return f1(f0.Children);} eg(fY.El, fY.Attr);if(fZ(fY))da(fY);}
function c_(fY){ while(true){ if(fY!=null&&fY.$==1)return c5(false, fY.$0);else if(fY!=null&&fY.$==2){ const fZ=fY.$0;fY=fZ.Current;} else if(fY==null)return null;else if(fY!=null&&fY.$==5)return null;else if(fY!=null&&fY.$==4){ const f0=fY.$0;return f0.Dirty?(f0.Text.nodeValue=f0.Value,f0.Dirty=false):null;} else if(fY!=null&&fY.$==6){ const f1=fY.$0;b6((f4) => { c5(false, f4);}, f1.Holes);b6((f4) => { eg(f4[0], f4[1]);}, f1.Attrs);return c$(f1);} else { const f2=fY.$1;const f3=fY.$0;c_(f3);fY=f2;} } }
function c$(fY){ const fZ=fT(fY.Render);if(fZ!=null&&fZ.$==1){ fZ.$0(fY.El);fR(fY, "Render", null);} }
function da(fY){ const fZ=fY.El;function f0(f4, f5){ while(true){ if(f4!=null&&f4.$==1)return f4.$0.El;else if(f4!=null&&f4.$==2){ const f6=f4.$0;if(f6.Dirty){ f6.Dirty=false;return cU(fZ, f6.Current, f5);} else f4=f6.Current;} else if(f4==null)return f5;else if(f4!=null&&f4.$==4)return f4.$0.Text;else if(f4!=null&&f4.$==5)return f4.$0;else if(f4!=null&&f4.$==6){ const f7=f4.$0;if(f7.Dirty)f7.Dirty=false;return b7((f_, f$) => f_==null||f_.constructor===Object?f0(f_, f$):f_, f7.Els, f5);} else { const f8=f4.$1;const f9=f4.$0;f4=f9;f5=f0(f8, f5);} } } const f1=fY.El;fD((f4) => { dN(f1, f4);}, fC(fE(fY), fB(fY.El, fT(fY.Delimiters))));let f2=fY.Children;const f3=fT(fY.Delimiters);f0(f2, f3!=null&&f3.$==1?f3.$0[1]:null);}
class db { Attr;Children;Delimiters;El;ElKey;Render;Equals(fY){ return this.ElKey===fY.ElKey;} GetHashCode(){ return this.ElKey;} static New(fY, fZ, f0, f1, f2, f3){ const f4={Attr:fY, Children:fZ, El:f1, ElKey:f2};let f5=(fR(f4, "Delimiters", f0),fR(f4, "Render", f3),f4);return fW(db, f5);} }
function dc(){ dd(de()+1);return de();}
function dd(fY){ eY.counter=fY;}
function de(){ return eY.counter;}
function df(fY, fZ){ return{$:2, $0:fY, $1:fZ};}
function dg(fY){ return{$:0, $0:fY};}
function dh(fY, fZ){ return{$:3, $0:fY, $1:fZ};}
class di extends Error { ct;static New(fY){ return new this("New", fY);} static New_1(fY, fZ, f0){ return new this("New_1", fY, fZ, f0);} constructor(fY, fZ, f0, f1){ let f2;if(fY=="New"){ f2=fZ;fY="New_1";fZ="The operation was canceled.";f0=null;f1=f2;} if(fY=="New_1"){ const f3=fZ;const f4=f0;const f5=f1;super(f3);this.inner=f4;this.ct=f5;} } }
class dj { static Cons(fY, fZ){ return fW(dj, {$:1, $0:fY, $1:fZ});} static Empty=fW(dj, {$:0});GetEnumerator(){ return new bU(this, null, (fY) => { const fZ=fY.s;return fZ.$==0?false:(fY.c=fZ.$0,fY.s=fZ.$1,true);}, void 0);} }
class dk extends j { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
class dl extends bJ { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fY, fZ){ const f0=eE.Create(fZ);const f1=b8((f4) => d4(f4[1]), fY.Attrs);let f2=eB(dm(), ds, f1);let f3=ds(f2, f0.v);return new dl(cj(fY), f3, l(fY.Els, 0), f0);} constructor(fY, fZ, f0, f1){ super(fY, fZ);this.docNode_1=fY;this.updates_1=fZ;this.elt=f0;this.rvUpdates=f1;} }
function dm(fY){ const fZ={s:dg(fY)};return() => fZ;}
function dn(fY, fZ){ function f0(){ cp(fZ(), fY, () => { Z().Fork(f0);});} Z().Fork(f0);}
function do_1(fY, fZ){ return dt(() => cq(fY, fZ()));}
function dp(fY, fZ, f0, f1){ return dt(() => cr(fY, fZ(), f0(), f1()));}
function dq(fY){ return dt(() => cs(u0033((fZ) => fZ(), fY)));}
function dr(fY, fZ, f0){ return dt(() => ct(fY, fZ(), f0()));}
function ds(fY, fZ){ return dt(() => cu(fY(), fZ()));}
function dt(fY){ const fZ={c:null, o:fY};return() => { let f0=fZ.c;if(f0===null){ f0=fZ.o();fZ.c=f0;const f1=f0.s;if(f1!=null&&f1.$==0)fZ.o=null;else cw(f0, () => { fZ.c=null;});return f0;} else return f0;};}
function du(fY){ let fZ=null;let f0=0;const f1=fY.textContent;const f2=new RegExp(bI(), "g");while(fZ=f2.exec(f1),fZ!==null){ fY.parentNode.insertBefore(globalThis.document.createTextNode(dC(f1, w(f0), w(f2.lastIndex-l(fZ, 0).length-1))), fY);f0=f2.lastIndex;const f3=globalThis.document.createElement("span");f3.setAttribute("ws-replace", l(fZ, 1).toLowerCase());fY.parentNode.insertBefore(f3, fY);} f2.lastIndex=0;fY.textContent=dC(f1, w(f0), null);}
function dv(fY){ console.warn("Instantiating non-loaded template", fY);}
function dw(fY, fZ, f0){ const f1=fY.querySelector("[ws-replace]");return x(f1, null)?(console.warn("Filling non-existent text hole", f0),null):(f1.parentNode.replaceChild(globalThis.document.createTextNode(fZ), f1),w(f1.getAttribute("ws-replace")));}
function dx(fY, fZ){ const f0=(f1) => { bF(fY, "["+f1+"]", (f2) => { if(!fZ.Contains(f2.getAttribute(f1)))f2.removeAttribute(f1);});};f0("ws-attr");f0("ws-onafterrender");f0("ws-var");bF(fY, "[ws-hole]", (f1) => { if(!fZ.Contains(f1.getAttribute("ws-hole"))){ f1.removeAttribute("ws-hole");while(f1.hasChildNodes())f1.removeChild(f1.lastChild);} });bF(fY, "[ws-replace]", (f1) => { if(!fZ.Contains(f1.getAttribute("ws-replace")))f1.parentNode.removeChild(f1);});bF(fY, "[ws-on]", (f1) => { f1.setAttribute("ws-on", bh(" ", b9((f2) => fZ.Contains(l(bj(f2, [":"], 1), 1)), bj(f1.getAttribute("ws-on"), [" "], 1))));});bF(fY, "[ws-attr-holes]", (f1) => { const f2=bj(f1.getAttribute("ws-attr-holes"), [" "], 1);for(let f6=0, f7=f2.length-1;f6<=f7;f6++){ const f3=l(f2, f6);let f4=new RegExp(bI(), "g");let f5=f1.getAttribute(f3).replace(f4, (f8, f9) => fZ.Contains(f9)?f8:"");f1.setAttribute(f3, f5);} });}
function dy(fY, fZ){ dB(fZ);const f0=fZ.nodeName.toLowerCase();const f1=fY.querySelector("[ws-attr="+f0+"]");if(x(f1, null))console.warn("Filling non-existent attr hole", f0);else { f1.removeAttribute("ws-attr");for(let f3=0, f4=fZ.attributes.length-1;f3<=f4;f3++){ const f2=fZ.attributes.item(f3);if(f2.name=="class"&&f1.hasAttribute("class"))f1.setAttribute("class", f1.getAttribute("class")+" "+f2.nodeValue);else f1.setAttribute(f2.name, f2.nodeValue);} } }
function dz(fY, fZ){ const f0=(f1) => { bF(fY, "["+f1+"]", (f2) => { let f3;const f4=(f3=null,[fZ.TryGetValue(f2.getAttribute(f1).toLowerCase(), {get:() => f3, set:(f5) => { f3=f5;}}), f3]);if(f4[0])f2.setAttribute(f1, f4[1]);});};f0("ws-hole");f0("ws-replace");f0("ws-attr");f0("ws-onafterrender");f0("ws-var");bF(fY, "[ws-on]", (f1) => { f1.setAttribute("ws-on", bh(" ", b8((f2) => { let f3;const f4=bj(f2, [":"], 1);const f5=(f3=null,[fZ.TryGetValue(l(f4, 1), {get:() => f3, set:(f6) => { f3=f6;}}), f3]);return f5[0]?l(f4, 0)+":"+f5[1]:f2;}, bj(f1.getAttribute("ws-on"), [" "], 1))));});bF(fY, "[ws-attr-holes]", (f1) => { const f2=bj(f1.getAttribute("ws-attr-holes"), [" "], 1);for(let f3=0, f4=f2.length-1;f3<=f4;f3++)((() => { const f5=l(f2, f3);return f1.setAttribute(f5, u0038((f6, f7) => { const f8=h(f7);return f6.replace(new RegExp("\\${"+f8[0]+"}", "ig"), "${"+f8[1]+"}");}, f1.getAttribute(f5), fZ));})());});}
function dA(fY, fZ, f0){ while(true){ if(fY.hasChildNodes())f0=fZ.insertBefore(fY.lastChild, f0);else return null;} }
function dB(fY){ const fZ=fY.attributes;const f0=[];const f1=[];const f2=[];for(let f7=0, f8=fZ.length-1;f7<=f8;f7++){ const f3=fZ.item(f7);if(bk(f3.nodeName, "ws-on")&&f3.nodeName!="ws-onafterrender"&&f3.nodeName!="ws-on"){ f0.push(f3.nodeName);f1.push(dC(f3.nodeName, w("ws-on".length), null)+":"+f3.nodeValue.toLowerCase());} else if(!bk(f3.nodeName, "ws-")&&(new RegExp(bI())).test(f3.nodeValue)){ let f4=new RegExp(bI(), "g");let f5=f3.nodeValue.replace(f4, (f9, f_) =>"${"+f_.toLowerCase()+"}");f3.nodeValue=f5;f2.push(f3.nodeName);} else void 0;} if(!(f1.length==0))fY.setAttribute("ws-on", bh(" ", f1));if(!(f2.length==0))fY.setAttribute("ws-attr-holes", bh(" ", f2));const f6=(f9) => { const f_=fY.getAttribute(f9);if(f_==null){ } else fY.setAttribute(f9, f_.toLowerCase());};f6("ws-hole");f6("ws-replace");f6("ws-attr");f6("ws-onafterrender");f6("ws-var");b6((f9) => { fY.removeAttribute(f9);}, f0);}
function dC(fY, fZ, f0){ if(fZ==null){ if(f0!=null&&f0.$==1){ const f1=f0.$0;return f1<0?"":fY.slice(0, f1+1);} else return"";} else if(f0==null)return fY.slice(fZ.$0);else { const f2=f0.$0;return f2<0?"":fY.slice(fZ.$0, f2+1);} }
function dD(fY){ const fZ=globalThis.document.createElement("div");if(!dF().test(fY)){ fZ.appendChild(globalThis.document.createTextNode(fY));return fZ;} else { const f0=dJ().exec(fY);const f1=x(f0, null)?"":l(f0, 1).toLowerCase();const f2=(dG())[f1];const f3=f2?f2:dH();fZ.innerHTML=f3[1]+fY.replace(dI(), "<$1></$2>")+f3[2];function f4(f5, f6){ while(true){ if(f6===0)return f5;else { const f7=f6;f5=f5.lastChild;f6=f7-1;} } } return f4(fZ, f3[0]);} }
function dE(fY){ const fZ=[];for(let f0=0, f1=fY.childNodes.length-1;f0<=f1;f0++)fZ.push(fY.childNodes[f0]);return fZ;}
function dF(){ return eZ.rhtml;}
function dG(){ return eZ.wrapMap;}
function dH(){ return eZ.defaultWrap;}
function dI(){ return eZ.rxhtmlTag;}
function dJ(){ return eZ.rtagName;}
function dK(fY, fZ, f0){ const f1=fY.querySelectorAll(fZ);for(let f2=0, f3=f1.length-1;f2<=f3;f2++)f0(f1[f2]);}
function dL(fY, fZ){ const f0=globalThis.document.querySelectorAll(fY);for(let f1=0, f2=f0.length-1;f1<=f2;f1++)fZ(f0[f1]);}
function dM(fY, fZ, f0){ let f1;if(f0.parentNode===fY){ const f2=f0.nextSibling;let f3=x(f2, null)?null:f2;f1=fZ===f3;} else f1=false;if(!f1)fY.insertBefore(f0, fZ);}
function dN(fY, fZ){ if(fZ.parentNode===fY)fY.removeChild(fZ);}
class dO extends j { d;GetEnumerator(){ return bQ(u0033((fY) => fY.K, this.d));} constructor(fY){ super();this.d=fY;} }
function dP(){ return eO();}
function dQ(fY){ const fZ=null;return Q(() => R(dS(() => { }, eP(fY)), () => { eQ(fY);return S(null);}));}
function dR(fY, fZ){ return dT(e1(fY.$0, fZ.$0));}
function dS(fY, fZ){ const f0=fZ.Duration;if(f0===0)return u0030();else { const f1=(f2) => { function f3(f4){ return(f5) => { const f6=f5-f4;fZ.Compute(f6);fY();return f6<=f0?void requestAnimationFrame((f7) => {(f3(f4))(f7);}):f2();};} requestAnimationFrame((f4) => {(f3(f4))(f4);});};return V((f2, f3, f4) => f1.apply(null, [f2, f3, f4]));} }
function dT(fY){ return{$:0, $0:fY};}
function dU(fY){ return dT(e3(u0033(eS, fY)));}
function dV(){ return dT(e4());}
function dW(){ return eW.BatchUpdatesEnabled;}
function dX(fY){ const fZ=[0];function f0(){ const f1=null;return Q(() => R(fY, () => { const f2=fZ[0];return x(f2, 1)?(fZ[0]=0,u0030()):x(f2, 2)?(fZ[0]=1,f0()):u0030();}));} return() => { const f1=fZ[0];if(x(f1, 0)){ fZ[0]=1;u0031(f0(), null);} else x(f1, 1)?fZ[0]=2:void 0;};}
function dY(fY, fZ, f0, f1){ const f2={DynElem:fY, DynFlags:fZ, DynNodes:f0};fR(f2, "OnAfterRender", f1);return f2;}
function dZ(fY){ let fZ;const f0=fY.s;if(f0==null||(f0!=null&&f0.$==2?(fZ=f0.$1,false):f0!=null&&f0.$==3?(fZ=f0.$1,false):true))void 0;else { fY.s=null;for(let f2=0, f3=n(fZ)-1;f2<=f3;f2++){ const f1=l(fZ, f2);if(typeof f1=="object")(((f4) => { dZ(f4);})(f1));else f1();} } }
function d0(fY){ return fY.$==1?fY.$0:d2();}
function d1(fY){ return fY.$==1?fY.$1:d2();}
function d2(){ return g("The input list was empty.");}
function d3(fY, fZ){ const f0=[];const f1=[];function f2(f5){ while(true){ if(!(f5===null)){ if(f5!=null&&f5.$==1)return f0.push(f5.$0);else if(f5!=null&&f5.$==2){ const f6=f5.$1;const f7=f5.$0;f2(f7);f5=f6;} else return f5!=null&&f5.$==3?f5.$0(fY):f5!=null&&f5.$==4?f1.push(f5.$0):null;} else return null;} } f2(fZ);const f3=f0.slice(0);let f4=dY(fY, d6(fZ), f3, f1.length===0?null:w((f5) => { u0039((f6) => { f6(f5);}, f1);}));return f4;}
function d4(fY){ return eC((fZ) => fZ.NChanged, dm(), ds, fY.DynNodes);}
function d5(fY){ return dY(fY, 0, [], null);}
function d6(fY){ return fY!==null&&fY.hasOwnProperty("flags")?fY.flags:0;}
function d7(fY){ return ew.A3(fY);}
function d8(fY, fZ){ return ew.A1(new e5(fY, fZ));}
function d9(){ return e7.EmptyAttr;}
function d_(fY){ const fZ=2;return(fY.DynFlags&fZ)===fZ;}
function d$(fY){ return ef(fY, (fZ, f0) => fZ.NGetExitAnim(f0));}
function ea(fY){ const fZ=1;return(fY.DynFlags&fZ)===fZ;}
function eb(fY){ return ef(fY, (fZ, f0) => fZ.NGetEnterAnim(f0));}
function ec(fY){ const fZ=4;return(fY.DynFlags&fZ)===fZ;}
function ed(fY){ return ef(fY, (fZ, f0) => fZ.NGetChangeAnim(f0));}
function ee(fY, fZ){ if(fY===null)return fZ;else if(fZ===null)return fY;else { const f0=ew.A2(fY, fZ);eh(f0, d6(fY)|d6(fZ));return f0;} }
function ef(fY, fZ){ return dU(b8((f0) => fZ(f0, fY.DynElem), fY.DynNodes));}
function eg(fY, fZ){ b6((f0) => { f0.NSync(fY);}, fZ.DynNodes);}
function eh(fY, fZ){ fY.flags=fZ;}
class ei extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ej extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ek extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function el(fY, fZ){ return d7((f0) => { f0.addEventListener(fY, (f1) =>(fZ(f0))(f1), false);});}
function em(fY){ return ew.A4(fY);}
function en(fY, fZ){ return d8(fZ, (f0) =>(f1) => f0.setAttribute(fY, f1));}
function eo(fY){ return eu(ft(), fY);}
function ep(fY){ return eu(fu(), fY);}
function eq(fY){ return eu(fv(), fY);}
function er(fY){ return eu(fw(), fY);}
function es(fY){ return eu(fx(), fY);}
function et(fY){ return eu(fy(), fY);}
function eu(fY, fZ){ const f0=fY(fZ);return ew.Append(d7(f0[0]), ev(f0[1], f0[2]));}
function ev(fY, fZ){ return d8(fZ, fY);}
class ew { static Handler(fY, fZ){ return ew.HandlerImpl(fY, fZ);} static Concat(fY){ const fZ=eD(fY);return eB(d9(), ew.Append, fZ);} static Create(fY, fZ){ return d7((f0) => { f0.setAttribute(fY, fZ);});} static HandlerImpl(fY, fZ){ return d7((f0) => { f0.addEventListener(fY, (f1) =>(fZ(f0))(f1), false);});} static Append(fY, fZ){ return ee(fY, fZ);} static A4(fY){ return fW(ew, {$:4, $0:fY});} static A3(fY){ return fW(ew, {$:3, $0:fY});} static A1(fY){ return fW(ew, {$:1, $0:fY});} static A2(fY, fZ){ return fW(ew, {$:2, $0:fY, $1:fZ});} }
class ex extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ey extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ez(fY){ return{$:0, $0:fY};}
function eA(fY){ return{$:1, $0:fY};}
function eB(fY, fZ, f0){ const f1=n(f0);function f2(f3){ return(f4) => { let f5;switch(f4<=0?0:f4===1?f3>=0&&f3<f1?1:(f5=f4,2):(f5=f4,2)){ case 0:return fY;case 1:return l(f0, f3);case 2:const f6=f4/2>>0;return fZ((f2(f3))(f6), (f2(f3+f6))(f4-f6));} };} return(f2(0))(f1);}
function eC(fY, fZ, f0, f1){ const f2=n(f1);function f3(f4){ return(f5) => { let f6;switch(f5<=0?0:f5===1?f4>=0&&f4<f2?1:(f6=f5,2):(f6=f5,2)){ case 0:return fZ;case 1:return fY(l(f1, f4));case 2:const f7=f5/2>>0;return f0((f3(f4))(f7), (f3(f4+f7))(f5-f7));} };} return(f3(0))(f2);}
function eD(fY){ if(fY instanceof Array)return fY;else if(fY instanceof dj)return b1(fY);else if(fY===null)return[];else { const fZ=[];const f0=bQ(fY);try { while(f0.MoveNext())fZ.push(f0.Current);return fZ;} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } }
class eE { c;s;v;static Create(fY){ let fZ;fZ=null;fZ=eE.New(fY, null, () => { let f0;f0=fZ.s;return f0===null?(f0=cv(fZ.c()),fZ.s=f0,cw(f0, () => { fZ.s=null;}),f0):f0;});return fZ;} static New(fY, fZ, f0){ return fW(eE, {c:fY, s:fZ, v:f0});} }
class eF extends j { d;GetEnumerator(){ return bQ(u0033((fY) => fY.V, this.d));} constructor(fY){ super();this.d=fY;} }
function eG(fY, fZ){ return{PreviousNodes:fY, Top:fZ};}
function eH(){ return eJ(new bY("New_3"));}
function eI(fY){ const fZ=[];function f0(f3, f4){ while(true)switch(f3){ case 0:if(f4!=null&&f4.$==0){ const f5=f4.$1;const f6=f4.$0;f0(0, f6);f4=f5;} else if(f4!=null&&f4.$==1){ const f7=f4.$0;f4=f7;f3=1;} else if(f4!=null&&f4.$==2){ const f8=f4.$0;f4=f8.Current;} else if(f4!=null&&f4.$==6){ const f9=f4.$0.Holes;return(((f_) =>(f$) => { b6(f_, f$);})(f2))(f9);} else return null;break;case 1:fZ.push(f4);f4=f4.Children;f3=0;break;} } function f1(f3){ return f0(0, f3);} function f2(f3){ return f0(1, f3);} f1(fY);return eJ(new bY("New_2", fZ));}
function eJ(fY){ return{$:0, $0:fY};}
function eK(fY, fZ){ return eJ(e9(fY, fZ.$0));}
function eL(fY, fZ){ return eJ(e_(fY.$0, fZ.$0));}
function eM(fY){ return e$(fY.$0);}
function eN(fY, fZ){ return eJ(fa(fY.$0, fZ.$0));}
function eO(){ return e0.UseAnimations;}
function eP(fY){ return eR(bZ((fZ) => fZ.$==1?w(fZ.$0):null, e2(fY.$0)));}
function eQ(fY){ b6((fZ) => { if(fZ.$==0)fZ.$0();}, e2(fY.$0));}
function eR(fY){ const fZ=eD(fY);const f0=n(fZ);if(f0===0)return eT();else if(f0===1)return l(fZ, 0);else { const f1=bb(u0033((f3) => f3.Duration, fZ));const f2=b8((f3) => eV(f1, f3), fZ);return eU(f1, (f3) => { b6((f4) => { f4.Compute(f3);}, f2);});} }
function eS(fY){ return fY.$0;}
function eT(fY){ return eU(0, () => fY);}
function eU(fY, fZ){ return{Compute:fZ, Duration:fY};}
function eV(fY, fZ){ const f0=fZ.Compute;const f1=fZ.Duration;const f2=fJ(() => fZ.Compute(fZ.Duration));return{Compute:(f3) => f3>=f1?f2.f():f0(f3), Duration:fY};}
let eW=fS((fY) => class fZ { static { eW=fY(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eX(fY){ let fZ=[];let f0;for(var f1 in fY)fZ.push.apply(fZ, fY[f1]);return fZ;}
let eY=fS((fY) => class fZ { static { eY=fY(this);} static counter;static { this.counter=0;} });
let eZ=fS((fY) => class fZ { static { eZ=fY(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const f0=[1, "<table>", "</table>"];let f1=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", f0], ["tbody", f0], ["tfoot", f0], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f1;this.defaultWrap=[0, "", ""];} });
let e0=fS((fY) => class fZ { static { e0=fY(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e8.Custom((f0) => { const f1=f0*f0;return 3*f1-2*(f1*f0);});this.UseAnimations=true;} });
function e1(fY, fZ){ return fY.$==0?fZ:fZ.$==0?fY:{$:2, $0:fY, $1:fZ};}
function e2(fY){ const fZ=[];function f0(f1){ while(true){ if(f1.$==1)return fZ.push(f1.$0);else if(f1.$==2){ const f2=f1.$1;const f3=f1.$0;f0(f3);f1=f2;} else return f1.$==3?b6((f4) => { fZ.push(f4);}, f1.$0):null;} } f0(fY);return fZ.slice(0);}
function e3(fY){ const fZ=eD(fY);return eB(e4(), e1, fZ);}
function e4(){ return fM.Empty;}
class e5 extends j { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fY){ return dV();} NGetEnterAnim(fY){ return dV();} NGetChangeAnim(fY){ return dV();} NSync(fY){ if(this.dirty){(this.push(fY))(this.value);this.dirty=false;} } constructor(fY, fZ){ super();this.push=fZ;this.value=void 0;this.dirty=false;this.updates=do_1((f0) => { this.value=f0;this.dirty=true;}, fY);} }
class e6 extends Error { static New(){ return new this("New");} static New_1(fY){ return new this("New_1", fY);} constructor(fY, fZ){ if(fY=="New"){ fY="New_1";fZ="The given key was not present in the dictionary.";} if(fY=="New_1"){ const f0=fZ;super(f0);} } }
let e7=fS((fY) => class fZ { static { e7=fY(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(ge) =>[(gf) => { gf.addEventListener("change", () => ge.Get()!=gf.checked?ge.Set(gf.checked):null);}, (gf) =>(gg) => gg!=null&&gg.$==1?void(gf.checked=gg.$0):null, do_1(w, ge.View)];this.StringSet=(ge) =>(gf) => { ge.value=gf;};this.StringGet=(ge) => w(ge.value);const f0=fd();const f1=fc();this.StringApply=(ge) => fb(f0, f1, ge);this.StringListSet=(ge) =>(gf) => { const gg=ge.options;for(let gh=0, gi=gg.length-1;gh<=gi;gh++)((() => { const gj=gg.item(gh);gj.selected=cP(gj.value, gf);})());};this.StringListGet=(ge) => { const gf=ge.selectedOptions;return w(b0($(() => ba((gg) =>[gf.item(gg).value], i(0, gf.length-1)))));};const f2=ff();const f3=fe();this.StringListApply=(ge) => fb(f2, f3, ge);this.DateTimeSetUnchecked=(ge) =>(gf) => { ge.value=(new Date(gf)).toLocaleString();};this.DateTimeGetUnchecked=(ge) => { let gf;let gg;const gh=ge.value;if(fz(gh))return w(-8640000000000000);else { gf=0;const gi=fH(gh);let gj=gi!=null&&gi.$==1&&(gf=gi.$0,true);gg=[gj, gf];return gg[0]?w(gg[1]):null;} };const f4=fh();const f5=fg();this.DateTimeApplyUnchecked=(ge) => fb(f4, f5, ge);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(ge) => { const gf=ge.files;return w(b0($(() => u0033((gg) => gf.item(gg), i(0, gf.length-1)))));};const f6=fk();const f7=fj();this.FileApplyUnchecked=(ge) => fi(f6, f7, ge);this.IntSetUnchecked=(ge) =>(gf) => { ge.value=String(gf);};this.IntGetUnchecked=(ge) => { const gf=ge.value;if(fz(gf))return w(0);else { const gg=+gf;return gg!==gg>>0?null:w(gg);} };const f8=fm();const f9=fl();this.IntApplyUnchecked=(ge) => fb(f8, f9, ge);this.IntSetChecked=(ge) =>(gf) => { const gg=gf.Input;return ge.value!=gg?void(ge.value=gg):null;};this.IntGetChecked=(ge) => { let gf;let gg;const gh=ge.value;if(fz(gh))gf=(ge.checkValidity?ge.checkValidity():true)?fA.Blank(gh):fA.Invalid(gh);else { const gi=(gg=0,[cn(gh, {get:() => gg, set:(gj) => { gg=gj;}}), gg]);gf=gi[0]?fA.Valid(gi[1], gh):fA.Invalid(gh);} return w(gf);};const f_=fo();const f$=fn();this.IntApplyChecked=(ge) => fb(f_, f$, ge);this.FloatSetUnchecked=(ge) =>(gf) => { ge.value=String(gf);};this.FloatGetUnchecked=(ge) => { const gf=ge.value;if(fz(gf))return w(0);else { const gg=+gf;return isNaN(gg)?null:w(gg);} };const ga=fq();const gb=fp();this.FloatApplyUnchecked=(ge) => fb(ga, gb, ge);this.FloatSetChecked=(ge) =>(gf) => { const gg=gf.Input;return ge.value!=gg?void(ge.value=gg):null;};this.FloatGetChecked=(ge) => { let gf;const gg=ge.value;if(fz(gg))gf=(ge.checkValidity?ge.checkValidity():true)?fA.Blank(gg):fA.Invalid(gg);else { const gh=+gg;gf=isNaN(gh)?fA.Invalid(gg):fA.Valid(gh, gg);} return w(gf);};const gc=fs();const gd=fr();this.FloatApplyChecked=(ge) => fb(gc, gd, ge);} });
class e8 extends j { transformTime;static Custom(fY){ return new e8(fY);} constructor(fY){ super();this.transformTime=fY;} }
function e9(fY, fZ){ return new bY("New_2", b9(fY, e$(fZ)));}
function e_(fY, fZ){ const f0=new bY("New_2", e$(fZ));f0.ExceptWith(e$(fY));return f0;}
function e$(fY){ const fZ=ca(fY.Count, void 0);fY.CopyTo(fZ, 0);return fZ;}
function fa(fY, fZ){ const f0=new bY("New_2", e$(fY));f0.IntersectWith(e$(fZ));return f0;}
function fb(fY, fZ, f0){ let f1;f1=null;return[(f2) => { const f3=() => { f0.UpdateMaybe((f4) => { let f5;f1=fY(f2);return f1!=null&&f1.$==1&&(!x(f1.$0, f4)&&(f5=[f1, f1.$0],true))?f5[0]:null;});};f2.addEventListener("change", f3);f2.addEventListener("input", f3);f2.addEventListener("keypress", f3);}, (f2) => { const f3=fZ(f2);return(f4) => f4==null?null:f3(f4.$0);}, do_1((f2) => { let f3;return f1!=null&&f1.$==1&&(x(f1.$0, f2)&&(f3=f1.$0,true))?null:w(f2);}, f0.View)];}
function fc(){ return e7.StringSet;}
function fd(){ return e7.StringGet;}
function fe(){ return e7.StringListSet;}
function ff(){ return e7.StringListGet;}
function fg(){ return e7.DateTimeSetUnchecked;}
function fh(){ return e7.DateTimeGetUnchecked;}
function fi(fY, fZ, f0){ let f1;f1=null;return[(f2) => { f2.addEventListener("change", () => { f0.UpdateMaybe((f3) => { let f4;f1=fY(f2);return f1!=null&&f1.$==1&&(f1.$0!==f3&&(f4=[f1, f1.$0],true))?f4[0]:null;});});}, (f2) => { const f3=fZ(f2);return(f4) => f4==null?null:f3(f4.$0);}, do_1((f2) => { let f3;return f1!=null&&f1.$==1&&(x(f1.$0, f2)&&(f3=f1.$0,true))?null:w(f2);}, f0.View)];}
function fj(){ return e7.FileSetUnchecked;}
function fk(){ return e7.FileGetUnchecked;}
function fl(){ return e7.IntSetUnchecked;}
function fm(){ return e7.IntGetUnchecked;}
function fn(){ return e7.IntSetChecked;}
function fo(){ return e7.IntGetChecked;}
function fp(){ return e7.FloatSetUnchecked;}
function fq(){ return e7.FloatGetUnchecked;}
function fr(){ return e7.FloatSetChecked;}
function fs(){ return e7.FloatGetChecked;}
function ft(){ return e7.StringApply;}
function fu(){ return e7.FloatApplyUnchecked;}
function fv(){ return e7.BoolCheckedApply;}
function fw(){ return e7.DateTimeApplyUnchecked;}
function fx(){ return e7.FileApplyUnchecked;}
function fy(){ return e7.StringListApply;}
function fz(fY){ return bo(fG, fY);}
class fA { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fY){ return fW(fA, {$:2, $0:fY});} static Invalid(fY){ return fW(fA, {$:1, $0:fY});} static Valid(fY, fZ){ return fW(fA, {$:0, $0:fY, $1:fZ});} }
function fB(fY, fZ){ let f0;if(fZ!=null&&fZ.$==1){ const f1=[];f0=fZ.$0[0].nextSibling;while(f0!==fZ.$0[1]){ f1.push(f0);f0=f0.nextSibling;} return fF(f1);} else { let f2=fY.childNodes.length;const f3=fY.childNodes;let f4=cb(f2, (f5) => f3[f5]);return fF(f4);} }
function fC(fY, fZ){ const f0=fY.$0;return fF(b9((f1) => b$((f2) =>!(f1===f2), f0), fZ.$0));}
function fD(fY, fZ){ b6(fY, fZ.$0);}
function fE(fY){ const fZ=[];function f0(f1){ while(true){ if(f1!=null&&f1.$==2){ const f2=f1.$0;f1=f2.Current;} else if(f1!=null&&f1.$==1)return fZ.push(f1.$0.El);else if(f1==null)return null;else if(f1!=null&&f1.$==5)return fZ.push(f1.$0);else if(f1!=null&&f1.$==4)return fZ.push(f1.$0.Text);else if(f1!=null&&f1.$==6){ const f3=f1.$0.Els;return(((f6) =>(f7) => { b6(f6, f7);})((f6) => { if(f6==null||f6.constructor===Object)f0(f6);else fZ.push(f6);}))(f3);} else { const f4=f1.$1;const f5=f1.$0;f0(f5);f1=f4;} } } f0(fY.Children);return fF(eD(fZ));}
function fF(fY){ return{$:0, $0:fY};}
function fG(fY){ return fY.match(new RegExp("\\s"))!==null;}
function fH(fY){ const fZ=Date.parse(fY);return isNaN(fZ)?null:w(fZ);}
function fI(fY, fZ, f0, f1){ const f2=+fY;const f3=f2===f2-f2%1&&f2>=fZ&&f2<=f0;if(f3)f1.set(f2);return f3;}
function fJ(fY){ return fO(false, fY, fK);}
function fK(){ const fY=this.v();this.c=true;this.v=fY;this.f=fL;return fY;}
function fL(){ return this.v;}
let fM=fS((fY) => class fZ { static { fM=fY(this);} static Empty;static { this.Empty={$:0};} });
function fN(fY){ fY.splice(0, n(fY));}
function fO(fY, fZ, f0){ return{c:fY, v:fZ, f:f0};}
fX(() => { b();});
fP();

